{"ast":null,"code":"import { connectToDatabase } from '../../utils/mongodb';\n\nconst cities = require('../../utils/seed_data/cities');\n\nconst {\n  places,\n  descriptors\n} = require('../../utils/seed_data/seedHelpers');\n\nexport default (async (req, res) => {\n  const {\n    db\n  } = await connectToDatabase();\n\n  const sample = array => array[Math.floor(Math.random() * array.length)];\n\n  try {\n    const random1000 = Math.floor(Math.random() * 1000);\n    const camp = {\n      location: `${cities[random1000].city}, ${cities[random1000].state}`,\n      title: `${sample(descriptors)} ${sample(places)}`\n    };\n    const campgrounds = await db.collection('campgrounds').insert(camp);\n    res.send(campgrounds);\n  } catch (error) {\n    res.status(400).json({\n      success: false\n    });\n  }\n});","map":{"version":3,"sources":["/Users/joemccann/Desktop/yelpcamp-nexjs/pages/api/seed.js"],"names":["connectToDatabase","cities","require","places","descriptors","req","res","db","sample","array","Math","floor","random","length","random1000","camp","location","city","state","title","campgrounds","collection","insert","send","error","status","json","success"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,qBAAlC;;AACA,MAAMC,MAAM,GAAGC,OAAO,CAAC,8BAAD,CAAtB;;AACA,MAAM;AAAEC,EAAAA,MAAF;AAAUC,EAAAA;AAAV,IAA0BF,OAAO,CAAC,mCAAD,CAAvC;;AAEA,gBAAe,OAAOG,GAAP,EAAYC,GAAZ,KAAoB;AAClC,QAAM;AAAEC,IAAAA;AAAF,MAAS,MAAMP,iBAAiB,EAAtC;;AAEA,QAAMQ,MAAM,GAAIC,KAAD,IAAWA,KAAK,CAACC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBH,KAAK,CAACI,MAAjC,CAAD,CAA/B;;AAEA,MAAI;AACH,UAAMC,UAAU,GAAGJ,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,IAA3B,CAAnB;AACA,UAAMG,IAAI,GAAG;AACZC,MAAAA,QAAQ,EAAG,GAAEf,MAAM,CAACa,UAAD,CAAN,CAAmBG,IAAK,KAAIhB,MAAM,CAACa,UAAD,CAAN,CAAmBI,KAAM,EADtD;AAEZC,MAAAA,KAAK,EAAG,GAAEX,MAAM,CAACJ,WAAD,CAAc,IAAGI,MAAM,CAACL,MAAD,CAAS;AAFpC,KAAb;AAIA,UAAMiB,WAAW,GAAG,MAAMb,EAAE,CAACc,UAAH,CAAc,aAAd,EAA6BC,MAA7B,CAAoCP,IAApC,CAA1B;AACAT,IAAAA,GAAG,CAACiB,IAAJ,CAASH,WAAT;AACA,GARD,CAQE,OAAOI,KAAP,EAAc;AACflB,IAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACA;AACD,CAhBD","sourcesContent":["import { connectToDatabase } from '../../utils/mongodb';\nconst cities = require('../../utils/seed_data/cities');\nconst { places, descriptors } = require('../../utils/seed_data/seedHelpers');\n\nexport default async (req, res) => {\n\tconst { db } = await connectToDatabase();\n\n\tconst sample = (array) => array[Math.floor(Math.random() * array.length)];\n\n\ttry {\n\t\tconst random1000 = Math.floor(Math.random() * 1000);\n\t\tconst camp = {\n\t\t\tlocation: `${cities[random1000].city}, ${cities[random1000].state}`,\n\t\t\ttitle: `${sample(descriptors)} ${sample(places)}`,\n\t\t};\n\t\tconst campgrounds = await db.collection('campgrounds').insert(camp);\n\t\tres.send(campgrounds);\n\t} catch (error) {\n\t\tres.status(400).json({ success: false });\n\t}\n};\n"]},"metadata":{},"sourceType":"module"}