{"ast":null,"code":"import { connectToDatabase } from '../../../utils/mongodb';\nexport default (async (req, res) => {\n  const {\n    query: {\n      id\n    },\n    method\n  } = req;\n  const {\n    db\n  } = await connectToDatabase();\n\n  switch (method) {\n    case 'GET':\n      try {\n        const campground = await db.collection('campgrounds').find({\n          _id: ObjectId(`${id}`)\n        }).toArray();\n        res.json(campground);\n      } catch (error) {\n        expect(error).toBeNull();\n        res.status(400).json({\n          success: false\n        });\n      }\n\n      break;\n    //   case 'PUT':\n    //     // Update or create data in your database\n    //     res.status(200).json({ id, name: name || `User ${id}` })\n    //     break\n    // default:\n    // \tres.setHeader('Allow', ['GET']);\n    // \tres.status(405).end(`Method ${method} Not Allowed`);\n  }\n});","map":{"version":3,"sources":["/Users/joemccann/Desktop/yelpcamp-nexjs/pages/api/campground/[id].js"],"names":["connectToDatabase","req","res","query","id","method","db","campground","collection","find","_id","ObjectId","toArray","json","error","expect","toBeNull","status","success"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,wBAAlC;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAClC,QAAM;AACLC,IAAAA,KAAK,EAAE;AAAEC,MAAAA;AAAF,KADF;AAELC,IAAAA;AAFK,MAGFJ,GAHJ;AAKA,QAAM;AAAEK,IAAAA;AAAF,MAAS,MAAMN,iBAAiB,EAAtC;;AAEA,UAAQK,MAAR;AACC,SAAK,KAAL;AACC,UAAI;AACH,cAAME,UAAU,GAAG,MAAMD,EAAE,CACzBE,UADuB,CACZ,aADY,EAEvBC,IAFuB,CAElB;AAAEC,UAAAA,GAAG,EAAEC,QAAQ,CAAE,GAAEP,EAAG,EAAP;AAAf,SAFkB,EAGvBQ,OAHuB,EAAzB;AAKAV,QAAAA,GAAG,CAACW,IAAJ,CAASN,UAAT;AACA,OAPD,CAOE,OAAOO,KAAP,EAAc;AACfC,QAAAA,MAAM,CAACD,KAAD,CAAN,CAAcE,QAAd;AACAd,QAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBJ,IAAhB,CAAqB;AAAEK,UAAAA,OAAO,EAAE;AAAX,SAArB;AACA;;AAED;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AArBD;AAuBA,CA/BD","sourcesContent":["import { connectToDatabase } from '../../../utils/mongodb';\n\nexport default async (req, res) => {\n\tconst {\n\t\tquery: { id },\n\t\tmethod,\n\t} = req;\n\n\tconst { db } = await connectToDatabase();\n\n\tswitch (method) {\n\t\tcase 'GET':\n\t\t\ttry {\n\t\t\t\tconst campground = await db\n\t\t\t\t\t.collection('campgrounds')\n\t\t\t\t\t.find({ _id: ObjectId(`${id}`) })\n\t\t\t\t\t.toArray();\n\n\t\t\t\tres.json(campground);\n\t\t\t} catch (error) {\n\t\t\t\texpect(error).toBeNull();\n\t\t\t\tres.status(400).json({ success: false });\n\t\t\t}\n\n\t\t\tbreak;\n\t\t//   case 'PUT':\n\t\t//     // Update or create data in your database\n\t\t//     res.status(200).json({ id, name: name || `User ${id}` })\n\t\t//     break\n\t\t// default:\n\t\t// \tres.setHeader('Allow', ['GET']);\n\t\t// \tres.status(405).end(`Method ${method} Not Allowed`);\n\t}\n};\n"]},"metadata":{},"sourceType":"module"}